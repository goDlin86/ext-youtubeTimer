!function n(r,a,o){function u(s,t){if(!a[s]){if(!r[s]){var e="function"==typeof require&&require;if(!t&&e)return e(s,!0);if(d)return d(s,!0);throw new Error("Cannot find module '"+s+"'")}var i=a[s]={exports:{}};r[s][0].call(i.exports,function(t){var e=r[s][1][t];return u(e||t)},i,i.exports,n,r,a,o)}return a[s].exports}for(var d="function"==typeof require&&require,t=0;t<o.length;t++)u(o[t]);return u}({1:[function(t,e,s){"use strict";var r=n(t("dayjs"));t("dayjs/locale/ru");var i=n(t("dayjs/plugin/duration"));function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}r.default.locale("ru"),r.default.extend(i.default);new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timerEl=document.getElementById("timer"),this.today=(0,r.default)().format("YYYY-MM-DD"),this.startWeek=(0,r.default)().startOf("week"),this.currentWeekTime=0,this.store=[],this.daysWeek=[],this.showWeekDays(),chrome.storage.sync.get("store",function(t){!chrome.runtime.error&&t.store&&(e.store=t.store),e.showWeekTimes(),e.connect()}),document.getElementsByClassName("prev")[0].addEventListener("click",function(t){e.changeWeek(-7)}),document.getElementsByClassName("next")[0].addEventListener("click",function(t){e.changeWeek(7)})}return function(t,e,s){e&&a(t.prototype,e),s&&a(t,s)}(t,[{key:"showWeekDays",value:function(){for(var t=0;t<7;t++){var e=this.startWeek.clone().add(t,"d");this.daysWeek.push(e.format("YYYY-MM-DD")),this.timerEl.innerHTML+="<div class='day'>"+e.format("dddd")+"<br/>"+e.format("D MMM")+"</div>",this.timerEl.innerHTML+="<div class='time'></div>"}this.timerEl.innerHTML+="<div class='allday'>Всего</div>",this.timerEl.innerHTML+="<div class='time'></div>"}},{key:"showWeekTimes",value:function(){for(var i=this,t=function(e){var t=i.store.findIndex(function(t){return t.date===i.daysWeek[e]});if(-1<t){i.currentWeekTime+=i.store[t].timer;var s=r.default.duration(i.store[t].timer,"seconds");i.showTime(s,e),i.today===i.store[t].date&&(document.getElementsByClassName("day")[e].classList.add("today"),document.getElementsByClassName("time")[e].classList.add("today"))}else i.today===i.daysWeek[e]&&(document.getElementsByClassName("day")[e].classList.add("today"),document.getElementsByClassName("time")[e].classList.add("today"))},e=this.currentWeekTime=0;e<7;e++)t(e);var s=r.default.duration(this.currentWeekTime,"seconds");this.showTime(s,7),this.startTime&&document.getElementsByClassName("today")[0]&&this.startTimer()}},{key:"showTime",value:function(t,e,s){var i=2<arguments.length&&void 0!==s&&s,n=t.hours()+24*t.days(),r=[Math.floor(n/10%10),n%10,Math.floor(t.minutes()/10%10),t.minutes()%10,Math.floor(t.seconds()/10%10),t.seconds()%10],a="";i?(a='<div class="clock anim">',a+='<div class="digit hoursTen" style="animation-delay:-'+(3600*r[1]+60*t.minutes()+t.seconds())+'s">'+this.timerDigits(r[0],6)+"</div>",a+='<div class="digit hours" style="animation-delay:-'+(60*t.minutes()+t.seconds())+'s">'+this.timerDigits(r[1],10)+"</div>",a+="<div>:</div>",a+='<div class="digit minsTen" style="animation-delay:-'+(t.seconds()+60*r[3])+'s">'+this.timerDigits(r[2],6)+"</div>",a+='<div class="digit mins" style="animation-delay:-'+t.seconds()+'s">'+this.timerDigits(r[3],10)+"</div>",a+="<div>:</div>",a+='<div class="digit secsTen" style="animation-delay:-'+r[5]+'s">'+this.timerDigits(r[4],6)+"</div>",a+='<div class="digit secs">'+this.timerDigits(r[5],10)+"</div>"):(a='<div class="clock">',a+='<div class="digit hoursTen">'+r[0]+"</div>",a+='<div class="digit hours">'+r[1]+"</div>",a+="<div>:</div>",a+='<div class="digit minsTen">'+r[2]+"</div>",a+='<div class="digit mins">'+r[3]+"</div>",a+="<div>:</div>",a+='<div class="digit secsTen">'+r[4]+"</div>",a+='<div class="digit secs">'+r[5]+"</div>"),document.getElementsByClassName("time")[e].innerHTML=a}},{key:"timerDigits",value:function(t,e){for(var s="",i=0;i<e;i++){var n=i+t;e<=n&&(n-=e),s+="<div>"+n+"</div>"}return s}},{key:"connect",value:function(){var e=this,t=chrome.extension.connect({name:"start time"});t.postMessage("give me start time"),t.onMessage.addListener(function(t){t&&(e.startTime=t,e.startTimer())})}},{key:"startTimer",value:function(){var e=this,t=this.store.find(function(t){return t.date===e.today}),s=void 0===t?0:t.timer,i=r.default.duration(s,"seconds");this.timerDur=i.add(((new Date).getTime()-this.startTime)/1e3,"s"),this.timerI=0==(0,r.default)().day()?6:(0,r.default)().day()-1;var n=r.default.duration(this.currentWeekTime,"seconds");this.timerDurWeek=n.add(((new Date).getTime()-this.startTime)/1e3,"s"),this.showTime(this.timerDur,this.timerI,!0),this.showTime(this.timerDurWeek,7,!0)}},{key:"changeWeek",value:function(t){clearInterval(this.timerInterval),this.timerEl.innerHTML="",this.startWeek=this.startWeek.add(t,"d"),this.daysWeek=[],this.showWeekDays(),this.showWeekTimes()}}]),t}())},{dayjs:2,"dayjs/locale/ru":3,"dayjs/plugin/duration":4}],2:[function(t,e,s){var i,n;i=this,n=function(){"use strict";function r(t,e,s){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(s)+t}var u="millisecond",l="second",m="minute",y="hour",v="day",$="week",M="month",d="quarter",_="year",g="date",a=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,p=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,t={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},e={s:r,z:function(t){var e=-t.utcOffset(),s=Math.abs(e),i=Math.floor(s/60),n=s%60;return(e<=0?"+":"-")+r(i,2,"0")+":"+r(n,2,"0")},m:function t(e,s){if(e.date()<s.date())return-t(s,e);var i=12*(s.year()-e.year())+(s.month()-e.month()),n=e.clone().add(i,M),r=s-n<0,a=e.clone().add(i+(r?-1:1),M);return+(-(i+(s-n)/(r?n-a:a-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:M,y:_,w:$,d:v,D:g,h:y,m:m,s:l,ms:u,Q:d}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},o="en",h={};h[o]=t;function i(t){return t instanceof f}function n(t,e,s){var i;if(!t)return o;if("string"==typeof t)h[t]&&(i=t),e&&(h[t]=e,i=t);else{var n=t.name;h[n]=t,i=n}return!s&&i&&(o=i),i||!s&&o}function c(t,e){if(i(t))return t.clone();var s="object"==typeof e?e:{};return s.date=t,s.args=arguments,new f(s)}var D=e;D.l=n,D.i=i,D.w=function(t,e){return c(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var s,f=((s=k.prototype).parse=function(t){this.$d=function(t){var e=t.date,s=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(a);if(i){var n=i[2]-1||0,r=(i[7]||"0").substring(0,3);return s?new Date(Date.UTC(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},s.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},s.$utils=function(){return D},s.isValid=function(){return!("Invalid Date"===this.$d.toString())},s.isSame=function(t,e){var s=c(t);return this.startOf(e)<=s&&s<=this.endOf(e)},s.isAfter=function(t,e){return c(t)<this.startOf(e)},s.isBefore=function(t,e){return this.endOf(e)<c(t)},s.$g=function(t,e,s){return D.u(t)?this[e]:this.set(s,t)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(t,e){function s(t,e){var s=D.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?s:s.endOf(v)}function i(t,e){return D.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)}var n=this,r=!!D.u(e)||e,a=D.p(t),o=this.$W,u=this.$M,d=this.$D,h="set"+(this.$u?"UTC":"");switch(a){case _:return r?s(1,0):s(31,11);case M:return r?s(1,u):s(0,u+1);case $:var c=this.$locale().weekStart||0,f=(o<c?o+7:o)-c;return s(r?d-f:d+(6-f),u);case v:case g:return i(h+"Hours",0);case y:return i(h+"Minutes",1);case m:return i(h+"Seconds",2);case l:return i(h+"Milliseconds",3);default:return this.clone()}},s.endOf=function(t){return this.startOf(t,!1)},s.$set=function(t,e){var s,i=D.p(t),n="set"+(this.$u?"UTC":""),r=((s={})[v]=n+"Date",s[g]=n+"Date",s[M]=n+"Month",s[_]=n+"FullYear",s[y]=n+"Hours",s[m]=n+"Minutes",s[l]=n+"Seconds",s[u]=n+"Milliseconds",s)[i],a=i===v?this.$D+(e-this.$W):e;if(i===M||i===_){var o=this.clone().set(g,1);o.$d[r](a),o.init(),this.$d=o.set(g,Math.min(this.$D,o.daysInMonth())).$d}else r&&this.$d[r](a);return this.init(),this},s.set=function(t,e){return this.clone().$set(t,e)},s.get=function(t){return this[D.p(t)]()},s.add=function(s,t){var e,i=this;function n(t){var e=c(i);return D.w(e.date(e.date()+Math.round(t*s)),i)}s=Number(s);var r=D.p(t);if(r===M)return this.set(M,this.$M+s);if(r===_)return this.set(_,this.$y+s);if(r===v)return n(1);if(r===$)return n(7);var a=((e={})[m]=6e4,e[y]=36e5,e[l]=1e3,e)[r]||1,o=this.$d.getTime()+s*a;return D.w(o,this)},s.subtract=function(t,e){return this.add(-1*t,e)},s.format=function(t){var n=this;if(!this.isValid())return"Invalid Date";function e(t,e,s,i){return t&&(t[e]||t(n,r))||s[e].substr(0,i)}function s(t){return D.s(o%12||12,t,"0")}var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=D.z(this),a=this.$locale(),o=this.$H,u=this.$m,d=this.$M,h=a.weekdays,c=a.months,f=a.meridiem||function(t,e,s){var i=t<12?"AM":"PM";return s?i.toLowerCase():i},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:d+1,MM:D.s(d+1,2,"0"),MMM:e(a.monthsShort,d,c,3),MMMM:e(c,d),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:e(a.weekdaysMin,this.$W,h,2),ddd:e(a.weekdaysShort,this.$W,h,3),dddd:h[this.$W],H:String(o),HH:D.s(o,2,"0"),h:s(1),hh:s(2),a:f(o,u,!0),A:f(o,u,!1),m:String(u),mm:D.s(u,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:i};return r.replace(p,function(t,e){return e||l[t]||i.replace(":","")})},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(t,e,s){var i,n=D.p(e),r=c(t),a=6e4*(r.utcOffset()-this.utcOffset()),o=this-r,u=D.m(this,r);return u=((i={})[_]=u/12,i[M]=u,i[d]=u/3,i[$]=(o-a)/6048e5,i[v]=(o-a)/864e5,i[y]=o/36e5,i[m]=o/6e4,i[l]=o/1e3,i)[n]||o,s?u:D.a(u)},s.daysInMonth=function(){return this.endOf(M).$D},s.$locale=function(){return h[this.$L]},s.locale=function(t,e){if(!t)return this.$L;var s=this.clone(),i=n(t,e,!0);return i&&(s.$L=i),s},s.clone=function(){return D.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},k),w=f.prototype;function k(t){this.$L=n(t.locale,null,!0),this.parse(t)}return c.prototype=w,[["$ms",u],["$s",l],["$m",m],["$H",y],["$W",v],["$M",M],["$y",_],["$D",g]].forEach(function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),c.extend=function(t,e){return t(e,f,c),c},c.locale=n,c.isDayjs=i,c.unix=function(t){return c(1e3*t)},c.en=h[o],c.Ls=h,c.p={},c},"object"==typeof s&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):i.dayjs=n()},{}],3:[function(t,e,s){var i,n;i=this,n=function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var s="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),i="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),n="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),r="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function e(t,e,s){var i,n;return"m"===s?e?"минута":"минуту":t+" "+(i=+t,n={mm:e?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[s].split("_"),i%10==1&&i%100!=11?n[0]:2<=i%10&&i%10<=4&&(i%100<10||20<=i%100)?n[1]:n[2])}function o(t,e){return a.test(e)?s[t.month()]:i[t.month()]}o.s=i,o.f=s;function u(t,e){return a.test(e)?n[t.month()]:r[t.month()]}u.s=r,u.f=n;var d={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:o,monthsShort:u,weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:e,mm:e,h:"час",hh:e,d:"день",dd:e,M:"месяц",MM:e,y:"год",yy:e},ordinal:function(t){return t}};return t.locale(d,null,!0),d},"object"==typeof s&&void 0!==e?e.exports=n(t("dayjs")):"function"==typeof define&&define.amd?define(["dayjs"],n):i.dayjs_locale_ru=n(i.dayjs)},{dayjs:2}],4:[function(t,e,s){var i,n;i=this,n=function(){"use strict";function r(t){return t instanceof i}function a(t,e,s){return new i(t,s,e.$l)}function o(t){return d.p(t)+"s"}var u,d,t,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},i=((t=e.prototype).calMilliseconds=function(){var s=this;this.$ms=Object.keys(this.$d).reduce(function(t,e){return t+(s.$d[e]||0)*c[e]},0)},t.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=Math.floor(t/31536e6),t%=31536e6,this.$d.months=Math.floor(t/2592e6),t%=2592e6,this.$d.days=Math.floor(t/864e5),t%=864e5,this.$d.hours=Math.floor(t/36e5),t%=36e5,this.$d.minutes=Math.floor(t/6e4),t%=6e4,this.$d.seconds=Math.floor(t/1e3),t%=1e3,this.$d.milliseconds=t},t.toISOString=function(){var t=this.$d.years?this.$d.years+"Y":"",e=this.$d.months?this.$d.months+"M":"",s=+this.$d.days||0;this.$d.weeks&&(s+=7*this.$d.weeks);var i=s?s+"D":"",n=this.$d.hours?this.$d.hours+"H":"",r=this.$d.minutes?this.$d.minutes+"M":"",a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var o=a?a+"S":"",u="P"+t+e+i+(n||r||o?"T":"")+n+r+o;return"P"==u?"P0D":u},t.toJSON=function(){return this.toISOString()},t.as=function(t){return this.$ms/c[o(t)]},t.get=function(t){var e=this.$ms,s=o(t);return"milliseconds"===s?e%=1e3:e="weeks"===s?Math.floor(e/c[s]):this.$d[s],e},t.add=function(t,e,s){var i;return i=e?t*c[o(e)]:r(t)?t.$ms:a(t,this).$ms,a(this.$ms+i*(s?-1:1),this)},t.subtract=function(t,e){return this.add(t,e,!0)},t.locale=function(t){var e=this.clone();return e.$l=t,e},t.clone=function(){return a(this.$ms,this)},t.humanize=function(t){return u().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},t.milliseconds=function(){return this.get("milliseconds")},t.asMilliseconds=function(){return this.as("milliseconds")},t.seconds=function(){return this.get("seconds")},t.asSeconds=function(){return this.as("seconds")},t.minutes=function(){return this.get("minutes")},t.asMinutes=function(){return this.as("minutes")},t.hours=function(){return this.get("hours")},t.asHours=function(){return this.as("hours")},t.days=function(){return this.get("days")},t.asDays=function(){return this.as("days")},t.weeks=function(){return this.get("weeks")},t.asWeeks=function(){return this.as("weeks")},t.months=function(){return this.get("months")},t.asMonths=function(){return this.as("months")},t.years=function(){return this.get("years")},t.asYears=function(){return this.as("years")},e);function e(e,t,s){var i=this;if(this.$d={},this.$l=s,t)return a(e*c[o(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach(function(t){i.$d[o(t)]=e[t]}),this.calMilliseconds(),this;if("string"==typeof e){var n=e.match(h);if(n)return this.$d.years=n[2],this.$d.months=n[3],this.$d.weeks=n[4],this.$d.days=n[5],this.$d.hours=n[6],this.$d.minutes=n[7],this.$d.seconds=n[8],this.calMilliseconds(),this}return this}return function(t,e,i){d=(u=i)().$utils(),i.duration=function(t,e){var s=i.locale();return a(t,{$l:s},e)},i.isDuration=r;var s=e.prototype.add,n=e.prototype.subtract;e.prototype.add=function(t,e){return r(t)&&(t=t.asMilliseconds()),s.bind(this)(t,e)},e.prototype.subtract=function(t,e){return r(t)&&(t=t.asMilliseconds()),n.bind(this)(t,e)}}},"object"==typeof s&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):i.dayjs_plugin_duration=n()},{}]},{},[1]);