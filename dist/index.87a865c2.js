!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},s={},n=e.parcelRequiree25b;function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}null==n&&((n=function(t){if(t in i)return i[t].exports;if(t in s){var e=s[t];delete s[t];var n={id:t,exports:{}};return i[t]=n,e.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){s[t]=e},e.parcelRequiree25b=n),n.register("9HR2X",(function(t,e){var i,s;i=t.exports,s=function(){"use strict";var t=6e4,e=36e5,i="millisecond",s="second",n="minute",r="hour",a="day",o="week",u="month",d="quarter",h="year",c="date",f="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(t,e,i){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(i)+t},$={s:v,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),s=Math.floor(i/60),n=i%60;return(e<=0?"+":"-")+v(s,2,"0")+":"+v(n,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var s=12*(i.year()-e.year())+(i.month()-e.month()),n=e.clone().add(s,u),r=i-n<0,a=e.clone().add(s+(r?-1:1),u);return+(-(s+(i-n)/(r?n-a:a-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:h,w:o,d:a,D:c,h:r,m:n,s:s,ms:i,Q:d}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",M={};M[g]=y;var _=function(t){return t instanceof T},p=function(t,e,i){var s;if(!t)return g;if("string"==typeof t)M[t]&&(s=t),e&&(M[t]=e,s=t);else{var n=t.name;M[n]=t,s=n}return!i&&s&&(g=s),s||!i&&g},D=function(t,e){if(_(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new T(i)},w=$;w.l=p,w.i=_,w.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function y(t){this.$L=p(t.locale,null,!0),this.parse(t)}var v=y.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(l);if(s){var n=s[2]-1||0,r=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return w},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(t,e){var i=D(t);return this.startOf(e)<=i&&i<=this.endOf(e)},v.isAfter=function(t,e){return D(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<D(t)},v.$g=function(t,e,i){return w.u(t)?this[e]:this.set(i,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,e){var i=this,d=!!w.u(e)||e,f=w.p(t),l=function(t,e){var s=w.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i);return d?s:s.endOf(a)},m=function(t,e){return w.w(i.toDate()[t].apply(i.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),i)},y=this.$W,v=this.$M,$=this.$D,g="set"+(this.$u?"UTC":"");switch(f){case h:return d?l(1,0):l(31,11);case u:return d?l(1,v):l(0,v+1);case o:var M=this.$locale().weekStart||0,_=(y<M?y+7:y)-M;return l(d?$-_:$+(6-_),v);case a:case c:return m(g+"Hours",0);case r:return m(g+"Minutes",1);case n:return m(g+"Seconds",2);case s:return m(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(t,e){var o,d=w.p(t),f="set"+(this.$u?"UTC":""),l=(o={},o[a]=f+"Date",o[c]=f+"Date",o[u]=f+"Month",o[h]=f+"FullYear",o[r]=f+"Hours",o[n]=f+"Minutes",o[s]=f+"Seconds",o[i]=f+"Milliseconds",o)[d],m=d===a?this.$D+(e-this.$W):e;if(d===u||d===h){var y=this.clone().set(c,1);y.$d[l](m),y.init(),this.$d=y.set(c,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l](m);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[w.p(t)]()},v.add=function(i,d){var c,f=this;i=Number(i);var l=w.p(d),m=function(t){var e=D(f);return w.w(e.date(e.date()+Math.round(t*i)),f)};if(l===u)return this.set(u,this.$M+i);if(l===h)return this.set(h,this.$y+i);if(l===a)return m(1);if(l===o)return m(7);var y=(c={},c[n]=t,c[r]=e,c[s]=1e3,c)[l]||1,v=this.$d.getTime()+i*y;return w.w(v,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this,i=this.$locale();if(!this.isValid())return i.invalidDate||f;var s=t||"YYYY-MM-DDTHH:mm:ssZ",n=w.z(this),r=this.$H,a=this.$m,o=this.$M,u=i.weekdays,d=i.months,h=function(t,i,n,r){return t&&(t[i]||t(e,s))||n[i].substr(0,r)},c=function(t){return w.s(r%12||12,t,"0")},l=i.meridiem||function(t,e,i){var s=t<12?"AM":"PM";return i?s.toLowerCase():s},y={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:h(i.monthsShort,o,d,3),MMMM:h(d,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,u,2),ddd:h(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(r),HH:w.s(r,2,"0"),h:c(1),hh:c(2),a:l(r,a,!0),A:l(r,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:n};return s.replace(m,(function(t,e){return e||y[t]||n.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,c,f){var l,m=w.p(c),y=D(i),v=(y.utcOffset()-this.utcOffset())*t,$=this-y,g=w.m(this,y);return g=(l={},l[h]=g/12,l[u]=g,l[d]=g/3,l[o]=($-v)/6048e5,l[a]=($-v)/864e5,l[r]=$/e,l[n]=$/t,l[s]=$/1e3,l)[m]||$,f?g:w.a(g)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return M[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),s=p(t,e,!0);return s&&(i.$L=s),i},v.clone=function(){return w.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},y}(),k=T.prototype;return D.prototype=k,[["$ms",i],["$s",s],["$m",n],["$H",r],["$W",a],["$M",u],["$y",h],["$D",c]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),D.extend=function(t,e){return t.$i||(t(e,T,D),t.$i=!0),D},D.locale=p,D.isDayjs=_,D.unix=function(t){return D(1e3*t)},D.en=M[g],D.Ls=M,D.p={},D},"object"==typeof t.exports?t.exports=s():"function"==typeof define&&define.amd?define(s):(i="undefined"!=typeof globalThis?globalThis:i||self).dayjs=s()}));var a,o,u=n("9HR2X"),d={};a=d,o=function(t){"use strict";var e,i=(e=t)&&"object"==typeof e&&"default"in e?e:{default:e},s="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),n="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),r="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),a="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),o=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function u(t,e,i){var s,n;return"m"===i?e?"минута":"минуту":t+" "+(s=+t,n={mm:e?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[i].split("_"),s%10==1&&s%100!=11?n[0]:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?n[1]:n[2])}var d=function(t,e){return o.test(e)?s[t.month()]:n[t.month()]};d.s=n,d.f=s;var h=function(t,e){return o.test(e)?r[t.month()]:a[t.month()]};h.s=a,h.f=r;var c={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:d,monthsShort:h,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:u,mm:u,h:"час",hh:u,d:"день",dd:u,M:"месяц",MM:u,y:"год",yy:u},ordinal:function(t){return t},meridiem:function(t){return t<4?"ночи":t<12?"утра":t<17?"дня":"вечера"}};return i.default.locale(c,null,!0),c},"object"==typeof d?d=o(n("9HR2X")):"function"==typeof define&&define.amd?define(["dayjs"],o):(a="undefined"!=typeof globalThis?globalThis:a||self).dayjs_locale_ru=o(a.dayjs);var h={};!function(t,e){"object"==typeof h?h=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).dayjs_plugin_duration=e()}(h,(function(){"use strict";var t,e,i=1e3,s=6e4,n=36e5,r=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=31536e6,u=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,h={years:o,months:u,days:r,hours:n,minutes:s,seconds:i,milliseconds:1,weeks:6048e5},c=function(t){return t instanceof g},f=function(t,e,i){return new g(t,i,e.$l)},l=function(t){return e.p(t)+"s"},m=function(t){return t<0},y=function(t){return m(t)?Math.ceil(t):Math.floor(t)},v=function(t){return Math.abs(t)},$=function(t,e){return t?m(t)?{negative:!0,format:""+v(t)+e}:{negative:!1,format:""+t+e}:{negative:!1,format:""}},g=function(){function m(t,e,i){var s=this;if(this.$d={},this.$l=i,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),e)return f(t*h[l(e)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(e){s.$d[l(e)]=t[e]})),this.calMilliseconds(),this;if("string"==typeof t){var n=t.match(d);if(n){var r=n.slice(2).map((function(t){return Number(t)}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var v=m.prototype;return v.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(e,i){return e+(t.$d[i]||0)*h[i]}),0)},v.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=y(t/o),t%=o,this.$d.months=y(t/u),t%=u,this.$d.days=y(t/r),t%=r,this.$d.hours=y(t/n),t%=n,this.$d.minutes=y(t/s),t%=s,this.$d.seconds=y(t/i),t%=i,this.$d.milliseconds=t},v.toISOString=function(){var t=$(this.$d.years,"Y"),e=$(this.$d.months,"M"),i=+this.$d.days||0;this.$d.weeks&&(i+=7*this.$d.weeks);var s=$(i,"D"),n=$(this.$d.hours,"H"),r=$(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var o=$(a,"S"),u=t.negative||e.negative||s.negative||n.negative||r.negative||o.negative,d=n.format||r.format||o.format?"T":"",h=(u?"-":"")+"P"+t.format+e.format+s.format+d+n.format+r.format+o.format;return"P"===h||"-P"===h?"P0D":h},v.toJSON=function(){return this.toISOString()},v.format=function(t){var i=t||"YYYY-MM-DDTHH:mm:ss",s={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return i.replace(a,(function(t,e){return e||String(s[t])}))},v.as=function(t){return this.$ms/h[l(t)]},v.get=function(t){var e=this.$ms,i=l(t);return"milliseconds"===i?e%=1e3:e="weeks"===i?y(e/h[i]):this.$d[i],0===e?0:e},v.add=function(t,e,i){var s;return s=e?t*h[l(e)]:c(t)?t.$ms:f(t,this).$ms,f(this.$ms+s*(i?-1:1),this)},v.subtract=function(t,e){return this.add(t,e,!0)},v.locale=function(t){var e=this.clone();return e.$l=t,e},v.clone=function(){return f(this.$ms,this)},v.humanize=function(e){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},m}();return function(i,s,n){t=n,e=n().$utils(),n.duration=function(t,e){var i=n.locale();return f(t,{$l:i},e)},n.isDuration=c;var r=s.prototype.add,a=s.prototype.subtract;s.prototype.add=function(t,e){return c(t)&&(t=t.asMilliseconds()),r.bind(this)(t,e)},s.prototype.subtract=function(t,e){return c(t)&&(t=t.asMilliseconds()),a.bind(this)(t,e)}}})),t(u).locale("ru"),t(u).extend(t(h));new(function(){"use strict";function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.timerEl=document.getElementById("timer"),this.today=t(u)().format("YYYY-MM-DD"),this.startWeek=t(u)().startOf("week"),this.currentWeekTime=0,this.store=[],this.daysWeek=[],this.showWeekDays(),chrome.storage.local.get(["store"],function(t){var e=t.store;this.store=e,this.showWeekTimes()}.bind(this)),document.getElementsByClassName("prev")[0].addEventListener("click",function(t){this.changeWeek(-7)}.bind(this)),document.getElementsByClassName("next")[0].addEventListener("click",function(t){this.changeWeek(7)}.bind(this))}var i,s,n;return i=e,(s=[{key:"showWeekDays",value:function(){for(var t=0;t<7;t++){var e=this.startWeek.clone().add(t,"d");this.daysWeek.push(e.format("YYYY-MM-DD")),this.timerEl.innerHTML+="<div class='day'>"+e.format("dddd")+"<br/>"+e.format("D MMM")+"</div>",this.timerEl.innerHTML+="<div class='time'></div>"}this.timerEl.innerHTML+="<div class='allday'>Всего</div>",this.timerEl.innerHTML+="<div class='time'></div>"}},{key:"showWeekTimes",value:function(){var e=this,i=function(i){var s=e.store.findIndex(function(t){return t.date===e.daysWeek[i]}.bind(e));if(s>-1){e.currentWeekTime+=e.store[s].timer;var n=t(u).duration(e.store[s].timer,"seconds");e.showTime(n,i),e.today===e.store[s].date&&(document.getElementsByClassName("day")[i].classList.add("today"),document.getElementsByClassName("time")[i].classList.add("today"))}else e.today===e.daysWeek[i]&&(document.getElementsByClassName("day")[i].classList.add("today"),document.getElementsByClassName("time")[i].classList.add("today"))};this.currentWeekTime=0;for(var s=0;s<7;s++)i(s);var n=t(u).duration(this.currentWeekTime,"seconds");this.showTime(n,7),chrome.storage.local.get(["startTime"],function(t){var e=t.startTime;e&&document.getElementsByClassName("today")[0]&&this.startTimer(e)}.bind(this))}},{key:"showTime",value:function(t,e,i){var s=void 0!==i&&i,n=t.hours()+24*t.days(),r=[Math.floor(n/10%10),n%10,Math.floor(t.minutes()/10%10),t.minutes()%10,Math.floor(t.seconds()/10%10),t.seconds()%10],a="";s?(a='<div class="clock anim">',a+='<div class="digit hoursTen" style="animation-delay:-'+(3600*r[1]+60*t.minutes()+t.seconds())+'s">'+this.timerDigits(r[0],6)+"</div>",a+='<div class="digit hours" style="animation-delay:-'+(60*t.minutes()+t.seconds())+'s">'+this.timerDigits(r[1],10)+"</div>",a+="<div>:</div>",a+='<div class="digit minsTen" style="animation-delay:-'+(t.seconds()+60*r[3])+'s">'+this.timerDigits(r[2],6)+"</div>",a+='<div class="digit mins" style="animation-delay:-'+t.seconds()+'s">'+this.timerDigits(r[3],10)+"</div>",a+="<div>:</div>",a+='<div class="digit secsTen" style="animation-delay:-'+r[5]+'s">'+this.timerDigits(r[4],6)+"</div>",a+='<div class="digit secs">'+this.timerDigits(r[5],10)+"</div>"):(a='<div class="clock">',a+='<div class="digit hoursTen">'+r[0]+"</div>",a+='<div class="digit hours">'+r[1]+"</div>",a+="<div>:</div>",a+='<div class="digit minsTen">'+r[2]+"</div>",a+='<div class="digit mins">'+r[3]+"</div>",a+="<div>:</div>",a+='<div class="digit secsTen">'+r[4]+"</div>",a+='<div class="digit secs">'+r[5]+"</div>"),document.getElementsByClassName("time")[e].innerHTML=a}},{key:"timerDigits",value:function(t,e){for(var i="",s=0;s<e;s++){var n=s+t;n>=e&&(n-=e),i+="<div>"+n+"</div>"}return i}},{key:"startTimer",value:function(e){var i=this.store.find(function(t){return t.date===this.today}.bind(this)),s=void 0===i?0:i.timer,n=t(u).duration(s,"seconds");this.timerDur=n.add(((new Date).getTime()-e)/1e3,"s"),this.timerI=0==t(u)().day()?6:t(u)().day()-1;var r=t(u).duration(this.currentWeekTime,"seconds");this.timerDurWeek=r.add(((new Date).getTime()-e)/1e3,"s"),this.showTime(this.timerDur,this.timerI,!0),this.showTime(this.timerDurWeek,7,!0)}},{key:"changeWeek",value:function(t){this.timerEl.innerHTML="",this.startWeek=this.startWeek.add(t,"d"),this.daysWeek=[],this.showWeekDays(),this.showWeekTimes()}}])&&r(i.prototype,s),n&&r(i,n),e}())}();
//# sourceMappingURL=index.87a865c2.js.map
